!function(){function e(e){for(var t=e.split(".")[0],e=e.split(".")[1],r=window[t].interfaces,n="",a=0;a<r.length;a++)if(r[a].id==e)return n=r[a].url,n.indexOf("http://")>-1||!window[t].host?n:""==window[t].host?n:"http://"+window[t].host+n}function t(t,r,n,a){var c=null,l=null,i=null,p=null;r&&(c=r.seatParams,l=r.urlParams,p=r.headers,l&&(i=l.async));var s=e(t);if(l||(l={}),p||(p={}),c)for(var o in c)s=""===c[o]?s.replaceAll("/{"+o+"}","").replaceAll("{"+o+"}",""):s.replaceAll("{"+o+"}",c[o]);var f={type:a,url:s,data:l,headers:p,cache:!1,async:!1};i&&(f.async=i),n&&(f.success=function(e){try{var t=JSON.parse(e);easySpa.httpResponseInterceptor(t)}catch(r){var t=e}n(t)}),"POST"!=a&&"PUT"!=a&&"DELETE"!=a||(f.contentType="application/json; charset=utf-8",f.data=JSON.stringify(l));try{if(!n){var u=JSON.parse($.ajax(f).responseText);return easySpa.httpResponseInterceptor(u),u}$.ajax(f)}catch(e){if(!n){var u=$.ajax(f).responseText;return easySpa.httpResponseInterceptor(u),u}}}String.prototype.replaceAll=function(e,t){return this.replace(new RegExp(e,"gm"),t)};for(var r in Interface)window[r]=Interface[r];Interface.getUrlById=function(t,r){var n=e(t);if(r)for(var a in r)n=""===r[a]?n.replaceAll("/{"+a+"}","").replaceAll("{"+a+"}",""):n.replaceAll("{"+a+"}",r[a]);return n},app.factory("ajaxService",[function(){function e(e){for(var r=e,n="",a={},c=null,l=e[0],i=1;i<r.length;i++)"function"==typeof r[i]?c=r[i]:"string"==typeof r[i]&&r[i].indexOf(".")>-1?n=r[i]:"object"==typeof r[i]&&(a=r[i]);return t(n,a,c,l)}return{get:function(){return arguments=[].slice.call(arguments,0),arguments.unshift("GET"),e(arguments)},post:function(t,r,n){return arguments=[].slice.call(arguments,0),arguments.unshift("POST"),e(arguments)},put:function(t,r,n){return arguments=[].slice.call(arguments,0),arguments.unshift("PUT"),e(arguments)},delete:function(t,r,n){return arguments=[].slice.call(arguments,0),arguments.unshift("DELETE"),e(arguments)}}}]);var n=app.factory;app.factory=function(e,t){for(var r=[],a=0;a<t.length;a++)"string"==typeof t[a]&&"easyHttp"==t[a]?r.push("ajaxService"):r.push(t[a]);n.apply(this,[e,r])}}();