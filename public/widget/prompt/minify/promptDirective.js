!function(t,o,n,e){function i(o,n){this.el=t(o),this.options=t.extend({},a,n),this.init()}var a={isHidden:!1,boxWidth:!1,title:"标题",isNest:!1,isMiddle:!1,loadData:void 0,loadEvent:!1,loadTitle:void 0,height:600,content:{tip:"",nest:""},boxTip:[{icon:"icon-Warning",color:"#8D6A32",bgColor:"#FCF8E3",type:"warning",application:""},{icon:"icon-Error",color:"#A93538",bgColor:"#F5DEDE",type:"errer",application:""},{icon:"icon-Success",color:"#326B31",bgColor:"#DFF0D8",type:"success",application:""}],operation:[],isDelay:!1,contentDelay:"",type:"warning",manualClose:!1,time:1e3,tip:[{icon:"icon-Warning",bgColor:"#FCF8E3",color:"#8D6A32",type:"warning",border:"1px solid #E8D7B1"},{icon:"icon-Error",bgColor:"#F5DEDE",color:"#A93538",type:"errer",border:"1px solid #E9B4B4"},{icon:"icon-Success",bgColor:"#DFF0D8",color:"#326B31",type:"success",border:"1px solid #B5CFB5"}]};i.prototype={init:function(){var t=this;1==this.options.isDelay?t.boxDelay(this.options):1==this.options.isNest?1==this.options.isMiddle?t.middleBox(this.options):t.box(this.options):0==this.options.isNest&&t.boxTip(this.options)},boxDelay:function(o){t(".tip-box").length>0&&t(".tip-box").remove();for(var n in o.tip){var e="";o.type==o.tip[n].type&&(e+='<div class="tip-box"><div class="tip-contnet" style="background-color: ',e+=o.tip[n].bgColor+";color:",e+=o.tip[n].color+";border:",e+=o.tip[n].border,e+='"><i class="'+o.tip[n].icon+' tip-icon"></i>',e+=o.contentDelay,1==o.manualClose&&(e+='<b class="icon-Close-Popup close-icon"></b>'),e+="</div></div>",t("body").append(e))}0==o.manualClose?setTimeout('$(".tip-box").remove()',o.time):1==o.manualClose&&t(".box-tip").remove(),t(".close-icon").on("click",function(){t(".tip-box").remove()})},boxTip:function(o){t(".box-tip").remove();for(var n in o.boxTip)if(o.type==o.tip[n].type)var e='<div class="prompt-modal box-tip"><div class="prompt-wrap"><div class="bomb-box" style="background: '+o.boxTip[n].bgColor+'"><div class="title" style="color: '+o.boxTip[n].color+'"><i class="'+o.boxTip[n].icon+' tip-box-icon"></i>'+o.title+'</div><div class="prompt-content">'+o.content.tip+'</div><div class="operation"><button name="prompt-operation" class="btn btn-default '+o.tip[n].type+'" data-event="close">'+(o.cancelDescription?o.cancelDescription:Lang.getValByKey("common","common_page_cancel"))+'</button><span class="other-btn"></span></div></div></div></div>';t("body").append(t(e)),this.tipButtonEvent(o)},box:function(o){var n=o.content.nest.attr("id")||o.content.nest.attr("class");if(0==t("#nest-"+n).length){var e="";1==o.isHidden?1==o.boxWidth?e+='<div id="nest-'+n+'" class="prompt-modal box-form hidden box-width">':e+='<div id="nest-'+n+'" class="prompt-modal box-form hidden">':1==o.boxWidth?e+='<div id="nest-'+n+'" class="prompt-modal box-form box-width">':e+='<div id="nest-'+n+'" class="prompt-modal box-form">',e+='<div class="prompt-wrap">',e+='<div class="bomb-box">',e+='<div class="title"></div>',e+='<div class="prompt-content"></div>',e+='<div class="operation">',e+='<button name="prompt-operation" class="btn btn-default" data-event="close">'+Lang.getValByKey("common","common_page_cancel")+"</button>",e+='<span class="other-btn"></span>',e+="</div>",e+="</div>",e+="</div>",e+="</div>",t("body").append(t(e)),o.content.nest.show(),t("#nest-"+n+" .prompt-content").append(o.content.nest),o.loadData(),t("#nest-"+n+" .title").append(o.title),-1!=o.title.indexOf("span")&&t("#nest-"+n+" .title span").attr("id","title"),"function"==typeof o.loadTitle&&(t("#title")[0].innerHTML=o.loadTitle()),this.formButtonEvent(o,n)}else 0!=t("#nest-"+n).find(".prompt-content").children(".slimScrollDiv").length?t("#nest-"+n).find(".prompt-content").children(".slimScrollDiv").prepend(o.content.nest):t("#nest-"+n+" .prompt-content").append(o.content.nest),t("#nest-"+n).show(),o.loadData(),"function"==typeof o.loadTitle&&(t("#title")[0].innerHTML=o.loadTitle())},middleBox:function(o){function n(){var o=t("#nest-"+e+" .label-text");o.on("click",function(){t(this).next().is(":visible")?t(this).next().hide():(o.next().hide(),t(this).next().show())})}var e=o.content.nest.attr("id")||o.content.nest.attr("class");if(0==t("#nest-"+e).length){var i='<div id="nest-'+e+'" class="prompt-modal middle-box"><div class="prompt-wrap"><div class="bomb-box"><div class="title">'+o.title+'</div><div class="prompt-content"></div><div class="operation"><button name="prompt-operation" class="btn btn-default" data-event="close">'+Lang.getValByKey("common","common_page_cancel")+'</button><span class="other-btn"></span></div></div></div></div>';t("body").append(t(i)),t("#nest-"+e+".middle-box .bomb-box").css("height",o.height),t("#nest-"+e+".middle-box .prompt-content").css({height:o.height-164,overflow:"auto"}),o.content.nest.show(),t("#nest-"+e+" .prompt-content").append(o.content.nest),this.formButtonEvent(o,e),o.loadData(),o.loadTitle&&"function"==typeof o.loadTitle&&(t("#nest-"+e+" .title")[0].innerHTML=o.loadTitle())}else t("#nest-"+e).show(),t("#nest-"+e+" .prompt-content").append(o.content.nest),o.loadData(),1==o.loadEvent&&(o.content.nest.find("ul").eq(0).show(),n()),o.loadTitle&&"function"==typeof o.loadTitle&&(t("#nest-"+e+" .title")[0].innerHTML=o.loadTitle());if(1==o.loadEvent){var a=t("#nest-"+e+" .prompt-content"),s=o.content.nest.find(".isContainer");!function(t,o){if(0!=t.find("div").length)return!1;t.empty();var n="";o.each(function(t){n+=0==t?'<div class="label-text">'+o.eq(t).data("title")+'<i class="icon-more-down icon-angle-down"></i></div><ul class="switch-list">'+o.eq(t).html()+"</ul>":'<div class="label-text">'+o.eq(t).data("title")+'<i class="icon-more-down icon-angle-down"></i></div><ul class="switch-list" style="display: none;">'+o.eq(t).html()+"</ul>"}),t.append(n),a.empty(),a.append(t),a.find(t).show()}(o.content.nest,s),n()}},closePrompt:function(o){t(".box-tip").remove(),o&&"function"==typeof o.cancelEvent&&o.cancelEvent()},closeSlideBox:function(){t(".box-tip").remove(),t(".box-form").hide()},closeFormPrompt:function(){t(".box-tip").remove(),t(".box-form").hide(),t(".middle-box").hide()},closeAllPrompt:function(){t(".box-tip").remove(),t(".box-form").remove(),t(".middle-box").remove()},tipButtonEvent:function(o){var n="",e=this;t(".box-tip .other-btn").empty();for(var i=0;i<o.operation.length;i++)n+='<button name="prompt-operation" class="btn btn-primary '+o.type+'" data-event="'+o.operation[i].type+'">'+o.operation[i].description+"</button>","delete"==o.operation[i].application?t(".box-tip .operation").prepend(t(".box-tip .other-btn")):t(".box-tip .operation").append(t(".box-tip .other-btn")),t(".box-tip .other-btn").append(n);t(".box-tip button[name=prompt-operation]").on("click",function(){var n=t(this).index();"close"==t(this).data("event")?e.closePrompt(o):"function"==typeof o.operation[n].operationEvent&&o.operation[n].operationEvent()})},formButtonEvent:function(o,n){var e="";t("#nest-"+n+" .other-btn").empty();for(var i=0;i<o.operation.length;i++)e+='<button name="prompt-operation" class="btn btn-primary" data-event="'+o.operation[i].type+'">'+o.operation[i].description+"</button>","delete"==o.operation[i].application?t("#nest-"+n+" .operation").prepend(t("#nest-"+n+" .other-btn")):t("#nest-"+n+" .operation").append(t("#nest-"+n+" .other-btn")),t("#nest-"+n+" .other-btn").append(e);t("#nest-"+n+" button[name=prompt-operation]").on("click",function(){var e=t(this).index();"close"==t(this).data("event")?t("#nest-"+n).hide():"function"==typeof o.operation[e].operationEvent&&o.operation[e].operationEvent()})}},t.fn.promptBox=function(o){var n=this,e=this,a=t(this).data("promptBox");return n.each(function(){t(this).data("promptBox",new i(this,o)),a&&"string"==typeof o&&"function"==typeof a[o]&&(e=a[o]())}),n||e}}(jQuery,window,document);