easySpa.require(["widget/prompt","public/javascripts/fragment/ordersStatus/ordersStatus.js"],function(){app.controller("ordersStatusCtrl",["$scope","$route","ordersStatusService","ordersStatusView",function(r,e,o,t){r.orderStatus=easySpa.queryUrlValByKey("orderStatus"),r.from=easySpa.queryUrlValByKey("from");var s=function(e){0!=e.errorCode?$(document).promptBox({isDelay:!0,contentDelay:e.msg,type:"errer",time:3e3,manualClose:!0}):r.processList=ordersStatusDataHandle.setStatus(e.data,r.orderStatus)};o.getOrderStatus("",s);var a=easySpa.queryUrlValByKey("orderNum");if(a){var n={seatParams:{waybillNo:a}},s=function(e){0!=e.errorCode?$(document).promptBox({isDelay:!0,contentDelay:e.msg,type:"errer",time:3e3,manualClose:!0}):r.orderInfo={packageNum:ordersStatusDataHandle.countObjLength(e.data),orderLogistics:ordersStatusDataHandle.setTransInfo(e.data)}};o.getOrderInfoByorderNo(n,s),r.goBack=function(){"orderSearch"===r.from?window.location.href="#/orderSearch?from=ordersStatus":window.location.href="#/orders?&orderStatus="+e.current.params.orderStatus},$(".label-text").on("click",function(){var r={none:"block",block:"none"},e=$(this).siblings().css("display");$(this).siblings().css("display",r[e]),"block"==r[e]?$(this).find("i").css("transform","rotate(-90deg)"):$(this).find("i").css("transform","rotate(90deg)")}),r.toggleList=function(e){r.orderInfo.orderLogistics[e].isShow=!r.orderInfo.orderLogistics[e].isShow,r.orderInfo.orderLogistics[e].isShow?$("#icon"+e).removeClass("icon_open").addClass("icon_close"):$("#icon"+e).removeClass("icon_close").addClass("icon_open")}}}])});