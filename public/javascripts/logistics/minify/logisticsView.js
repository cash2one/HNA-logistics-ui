app.factory("logisticsView",[function(){return{initCalander:function(){var t=new Date,e=(new Date).format("yyyy-MM-dd hh:mm:ss");console.log("========================",e),$("#updateTime").datetimepicker({timeFormat:"HH:mm:ss",dateFormat:"yy-mm-dd",showSecond:!0,changeYear:!0,changeMonth:!0,defaultDate:e,autoSize:!1,maxDateTime:t})},getOrderNumList:function(){var t=$("#content").val();t=t.replace(/\s+/g," ").trim();var e=t.split(/[, ，]/);return e=e.filter(function(t){return""!=t})},switchLabel:function(t){var e=t.invalidList,a=$("#content").val();a=a.replace(/\s+/g," ").trim();var n=a.split(/[, ，]/);n=n.filter(function(t){return""!=t});for(var i="",r=0,l=n.length;r<l;r++)e.indexOf(n[r])>-1?i+="<span class='listSpan invalidNum'>"+n[r]+"</span> ":i+="<span class='listSpan'>"+n[r]+"</span>";$("#contentP").html(i),t.showTextarea=!1},delInvalid:function(t,e){if(e.keyCode,!1){var a=$("#content").val();a=a.replace(/\s+/g," ").trim();var n=a.split(/[, ，]/);n=n.filter(function(t){return""!=t});var i=t.invalidList;t.textValue="";for(var r="",l=0,s=n.length;l<s;l++)-1==i.indexOf(n[l])&&(r+="<span class='listSpan'>"+n[l]+"</span>",t.textValue+=n[l]+" ");$("#contentP").html(r),$("#content").val(t.textValue.trim())}},reShowTextarea:function(t){var e=$("#contentP");console.log("op=",e),t.showTextarea=!0},isValid:function(t,e){var a=$("#content").val();a=a.replace(/\s+/g," ").trim();var n=a.split(/[, ，]/);n=n.filter(function(t){return""!=t}),n.length>100&&(e.preventDefault,t.showMsg(Lang.getValByKey("logistics","logistics_textarea_100"),"errer"))}}}]);