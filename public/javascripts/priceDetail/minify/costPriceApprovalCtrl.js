var controller={$scope:null,service:null,initViewButton:function(e){$.extend(!0,e.viewButton,{isShowCancelBtn:!0,isSalesPrice:!1})},init:function(e,t){this.initViewButton(e),this.$scope=e,this.service=t,this.scopeEvent()},scopeEvent:function(){var e=this,t=e.$scope,o=e.service;t.childInit=function(){t.uid&&t.getInfo(),!1===t.isOnline?t.isHidenEditBtn=!1:t.isHidenEditBtn=!0,2==t.status?t.viewButton.audit=!0:3==t.status&&(t.viewButton.audit=!1,t.viewButton.enable=!0,1==t.isOnline?(t.enableName=Lang.getValByKey("priceDetail","priceDetail_code_stop"),t.enableValue=!1):(t.enableName=Lang.getValByKey("priceDetail","priceDetail_code_start"),t.enableValue=!0))},t.childInit(),t.submitAudit=function(){if(t.auditSubmitStatus=!0,t.auditRemark||t.auditForm.auditRemark.$setDirty(),t.auditForm.$valid){var e={urlParams:{msg:t.auditRemark},seatParams:{uid:t.uid}};1==t.auditStatus?o.returnDraft(e,function(e){0===e.errorCode?($(document).promptBox({isDelay:!0,contentDelay:e.msg,type:"success"}),setTimeout(function(){t.goBack()},t.jumpTime)):$(document).promptBox({isDelay:!0,contentDelay:e.msg,type:"errer",manualClose:!0})}):2==t.auditStatus&&o.auditPassed(e,function(e){0===e.errorCode?($(document).promptBox({isDelay:!0,contentDelay:e.msg,type:"success"}),setTimeout(function(){t.goBack()},t.jumpTime)):$(document).promptBox({isDelay:!0,contentDelay:e.msg,type:"errer",manualClose:!0})})}},t.enabled=function(e){0==e?$(document).promptBox({title:Lang.getValByKey("common","common_prompt_title"),type:"success",content:{tip:Lang.getValByKey("priceDetail","priceDetail_code_stopConfirm")},operation:[{type:"submit",description:Lang.getValByKey("common","common_pagination_confirm"),operationEvent:function(){$(document).promptBox("closePrompt");var e={urlParams:[t.uid]};o.stopPrice(e,function(e){0===e.errorCode?(t.enableName=Lang.getValByKey("priceDetail","priceDetail_code_start"),t.enableValue=!0,t.isOffline=!0,t.isHidenEditBtn=!1,t.$apply(),location.reload(),$(document).promptBox({isDelay:!0,contentDelay:e.msg,type:"success"})):$(document).promptBox({isDelay:!0,contentDelay:e.msg,type:"errer",manualClose:!0})})}}]}):e&&$(document).promptBox({title:Lang.getValByKey("common","common_prompt_title"),type:"success",content:{tip:Lang.getValByKey("priceDetail","priceDetail_code_startConfirm")},operation:[{type:"submit",description:Lang.getValByKey("common","common_pagination_confirm"),operationEvent:function(){$(document).promptBox("closePrompt");var e={urlParams:[t.uid],seatParams:{isconfirmed:!1}};o.startPrice(e,function(e){0==e.errorCode?($(document).promptBox({isDelay:!0,contentDelay:e.msg,type:"success"}),setTimeout(function(){t.goBack()},t.jumpTime)):207001==e.errorCode?$(document).promptBox({title:Lang.getValByKey("common","common_prompt_title"),type:"success",content:{tip:e.msg},operation:[{type:"submit",description:Lang.getValByKey("common","common_pagination_confirm"),operationEvent:function(){$(document).promptBox("closePrompt");var e={urlParams:[t.uid],seatParams:{isconfirmed:!0}};o.startPrice(e,function(e){0===e.errorCode?($(document).promptBox({isDelay:!0,contentDelay:e.msg,type:"success"}),setTimeout(function(){t.goBack()},t.jumpTime)):$(document).promptBox({isDelay:!0,contentDelay:e.msg,type:"errer",manualClose:!0})})}}]}):$(document).promptBox({isDelay:!0,contentDelay:e.msg,type:"errer",manualClose:!0})})}}]})}}};