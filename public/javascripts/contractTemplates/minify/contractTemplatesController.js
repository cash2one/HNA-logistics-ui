easySpa.require(["widget/slimscroll","public/common/tableController.js","widget/select","public/common/calander.js","widget/prompt"],function(){app.controller("contractTemplatesCtrl",["$scope","contractTemplatesService","contractTemplatesView","tableService",function(e,t,n,l){$.extend(e,{initSelect:function(){n.initStateSelect(e)},initCalander:function(){n.initCalander()},setScroll:function(){n.setScroll()},initTable:function(){n.initTable(e)},loadData:function(){var t=this,n={urlParams:e.tableModel.restData};l.getTable(e.tableModel.restURL,n,function(o){0===o.errorCode&&(angular.forEach(o.data,function(t){t.enableCheckbox=t.createUserId.toString()===e.userId}),e.tableModel=l.table(e.tableModel,n,o),setTimeout(function(){t.setScroll(),$(window).on("resize",t.setScroll),e.$apply(),$(".table-box").focus()},100))})},bindEvent:function(){n.bindEvent(e)}}),e.test=function(e){top.location.href="http://"+location.host+"#/contractTemplateDetail?id="+e},function(){e.userId=cookie.get("userId"),e.serviceType="全部",e.serviceTypeCode=null,e.tableModel={}}(),e.initTable(),e.initSelect(),e.initCalander(),e.bindEvent()}])});