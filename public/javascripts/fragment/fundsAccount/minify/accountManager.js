app.controller("accountManagerCtr",["$scope","$location","fundsAccountService","eventServiceFactory",function(t,e,n,c){t.getAccountManagerList=function(){var e={urlParams:{}};n.getAccountManagerList(e,function(e){0===e.errorCode?e.data?(e.data.forEach(function(t){t.signing&&(t.totalAmount=n.dealNumber(t.totalAmount))}),t.list=e.data):t.list=[]:setTimeout(function(){$(document).promptBox({isDelay:!0,contentDelay:e.msg,type:"errer",manualClose:!0})},0)})},t.getCustomerId=function(){n.getCustomerId(function(e){0===e.errorCode?(t.hrefPay=e.data.dsptUrl,t.hrefBasic=e.data.qywyUrl):setTimeout(function(){$(document).promptBox({isDelay:!0,contentDelay:e.msg,type:"errer",manualClose:!0})},0)})},t.getAccountDetail=function(e,n){n.thirdPayAccountId&&n.signing&&(t.$parent.block=e,a.dispatch("accountDetailData",{thirdPayAccountId:n.thirdPayAccountId,custName:n.custName,currencyCode:n.currencyCode}))},t.openAccountManager=function(e){t.showSigning=!0},t.init=function(){t.showSigning=!1,t.getAccountManagerList(),t.getCustomerId()},t.init();var a=c.createEventService();if(a.on("accountManagerData",t.init),e.$$search.thirdPayAccountId){var o={thirdPayAccountId:e.$$search.thirdPayAccountId,currencyCode:e.$$search.currencyCode,custName:e.$$search.custName,signing:!0};t.getAccountDetail("accountDetail",o)}}]);