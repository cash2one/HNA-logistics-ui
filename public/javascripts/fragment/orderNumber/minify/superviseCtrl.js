app.controller("superviseCtrl",["$scope","orderNumberService","tableService",function(e,r,a){var t,l,b;e.superviseUseInfoId=1,"channelNumber"===e.module?(t=[Lang.getValByKey("common","common_thead_number"),Lang.getValByKey("orderNumber","orderNumber_table_channelNumber"),Lang.getValByKey("orderNumber","orderNumber_table_orderNumber"),Lang.getValByKey("orderNumber","orderNumber_table_service"),Lang.getValByKey("orderNumber","orderNumber_table_supplierName"),Lang.getValByKey("orderNumber","orderNumber_table_batchNumber"),Lang.getValByKey("orderNumber","orderNumber_table_useInfo"),Lang.getValByKey("orderNumber","orderNumber_table_useTime")],l=["5%","12%","16%","12%","10%","12%","8%","10%"],b="logistics.getChannelNumberChannelNo"):(t=[Lang.getValByKey("common","common_thead_number"),Lang.getValByKey("orderNumber","orderNumber_table_waybillNumber"),Lang.getValByKey("orderNumber","orderNumber_table_orderNumber"),Lang.getValByKey("orderNumber","orderNumber_table_clientele"),Lang.getValByKey("orderNumber","orderNumber_table_batchNumber"),Lang.getValByKey("orderNumber","orderNumber_table_useInfo"),Lang.getValByKey("orderNumber","orderNumber_table_useTime")],l=["8%","18%","20%","12%","13%","12%","12%"],b="logistics.getWaybillNumberChannelNo"),e.tableModel={tableHeader:t,tableHeaderSize:l,tableBody:[],restURL:b,restData:{q:"",channelNumber:"",waybillNumber:"",orderNumber:"",batchNumber:"",status:"1",pageIndex:1,pageSize:10,sort:""},selectNumber:0,selectFlag:!1},e.getTable=function(r){e.tableModel.restData.channelNumber=e.searchChannelNumber,e.tableModel.restData.waybillNumber=e.searchWaybillNumber,e.tableModel.restData.orderNumber=e.searchOrderNumber,e.tableModel.restData.batchNumber=e.searchBatchNumber,r&&(e.tableModel.restData.pageIndex=1,e.tableModel.restData.status=e.superviseUseInfoId),e.tableModel.restData.orderNumber&&(e.tableModel.restData.batchNumber="",e.tableModel.restData.status=""),(e.tableModel.restData.channelNumber||e.tableModel.restData.waybillNumber)&&(e.tableModel.restData.orderNumber="",e.tableModel.restData.batchNumber="",e.tableModel.restData.status="");var t={urlParams:e.tableModel.restData};a.getTable(e.tableModel.restURL,t,function(r){if(0===r.errorCode){e.tableModel=a.table(e.tableModel,t,r);var l=$(".order-table-supervise").height()-240;setTimeout(function(){$(".table-container tbody").slimscroll({height:l}),$(window).resize(function(){l=$(".order-table-supervise").height()-240,$(".table-container tbody").slimscroll({height:l})})},10)}})},e.resetData=function(){e.tableModel.restData.channelNumber="",e.searchChannelNumber="",e.tableModel.restData.waybillNumber="",e.searchWaybillNumber="",e.tableModel.restData.orderNumber="",e.searchOrderNumber="",e.tableModel.restData.batchNumber="",e.searchBatchNumber="",e.tableModel.restData.status="1",e.superviseUseInfoId="1",e.superviseUseInfo=Lang.getValByKey("orderNumber","orderNumber_select_used"),e.tableModel.restData.pageIndex=1,e.getTable()};var o;e.getSearchSuperviseUseInfoData=function(){var r=[{code:-1,name:Lang.getValByKey("orderNumber","orderNumber_select_all")},{code:1,name:Lang.getValByKey("orderNumber","orderNumber_select_used")},{code:0,name:Lang.getValByKey("orderNumber","orderNumber_select_nouse")}];o&&o.destroy(),o=selectFactory({data:{data:r},id:"supervise-useInfo",isCreateNewSelect:!0,defaultText:"",attrTextModel:function(r,a,t){e.superviseUseInfoId=t.code,e.superviseUseInfo=t.name,e.$apply()}}),o.open()}}]);