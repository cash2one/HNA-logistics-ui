easySpa.require(["widget/slimscroll","public/common/tableController.js","widget/select","public/common/calander.js","widget/prompt"],function(){app.controller("workOrderCtrl",["$scope","workOrderService","workOrderView","tableService",function(e,t,r,a){$.extend(e,{workId:"",creator:"",username:"",usernameId:"",title:"",state:"",stateId:"",searchTitle:"",searchWorkId:"",searchUsername:"",searchCreator:"",blockOrder:!1,setScroll:function(){r.setScroll()},loadData:function(){var t=this;e.searchTitle=e.title,e.searchWorkId=e.workId,e.searchUsername=e.username,e.searchCreator=e.creator,e.stateId||(e.tableModel.restData.status="0");var r={urlParams:e.tableModel.restData};a.getTable(e.tableModel.restURL,r,function(n){0===n.errorCode&&(e.tableModel=a.table(e.tableModel,r,n),setTimeout(function(){t.setScroll(),$(window).on("resize",t.setScroll),e.$apply(),$(".table-box").focus()},100))})},initTable:function(){r.initTable(e)},initSelect:function(){r.initStateSelect(e)},initCalander:function(){r.initCalander()},bindEvent:function(){r.bindEvent(e)},initPageData:function(){e.state=Lang.getValByKey("workOrder","workOrder_created_state")}}),e.initPageData(),e.initSelect(),e.initTable(),e.initCalander(),e.bindEvent()}])});